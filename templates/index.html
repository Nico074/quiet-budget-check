{% extends "layout_public.html" %}
{% block title %}Momentum Labs{% endblock %}
{% block body %}
  {% include "_public_header.html" %}

  <main class="container home-shell">
    <section class="home-hero card">
      <div class="hero-copy">
        <p class="eyebrow">AI Budget Intelligence</p>
        <h1>Minimal surface. Maximum signal.</h1>
        <p class="muted">
          Momentum Labs turns daily spending into calm, actionable rhythm with one fast check.
        </p>
        <div class="button-row">
          {% if user_id %}
          <a class="btn primary" href="/dashboard">Open dashboard</a>
          {% else %}
          <a class="btn primary" href="/register">Start free</a>
          {% endif %}
          <a class="btn" href="/pricing">See plans</a>
        </div>
      </div>
      <div class="hero-panel">
        <div class="ai-chip">NeonGrid AI</div>
        <div class="hero-stat">
          <span>Financial Health</span>
          <strong>Live model</strong>
        </div>
        <div class="hero-stat">
          <span>Companion</span>
          <strong>Adaptive tone</strong>
        </div>
        <div class="hero-stat">
          <span>Run check</span>
          <strong>Under 10 seconds</strong>
        </div>
      </div>
    </section>

    <section class="home-check card">
      <div class="card-head">
        <h2>Run your check</h2>
        <span class="chip">Instant preview</span>
      </div>
      {% if error %}
      <div class="form-error">{{ error }}</div>
      {% endif %}
      <form class="run-form-grid" method="post" action="/check">
        <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
        <label>
          <span>Period</span>
          <select name="period">
            <option value="monthly">Monthly</option>
            <option value="fortnightly">Fortnightly</option>
            <option value="weekly">Weekly</option>
          </select>
        </label>
        <label>
          <span>Days left</span>
          <input type="number" name="days_left" placeholder="12" required />
        </label>
        <label>
          <span>Net income</span>
          <input type="number" name="income" placeholder="3200" required />
        </label>
        <label>
          <span>Fixed expenses</span>
          <input type="number" name="fixed" placeholder="2100" required />
        </label>
        <label class="full">
          <span>Today's expense</span>
          <input type="number" name="today" placeholder="45" required />
        </label>
        <div class="form-actions">
          <button type="submit" class="btn primary">Run check</button>
          <a class="btn" href="/dashboard">Dashboard</a>
        </div>
      </form>
      {% if result %}
      <div class="check-result">
        <strong>${{ result.daily_budget }}/day</strong>
        <span class="chip">{{ result.status|title }}</span>
        <p class="muted">{{ result.message }}</p>
      </div>
      {% endif %}
    </section>

    <section class="home-grid">
      <article class="card feature-card">
        <h3>Dashboard</h3>
        <p class="muted">Floor-style overview with KPI cards, chart panel, and recent checks.</p>
      </article>
      <article class="card feature-card">
        <h3>Run a check</h3>
        <p class="muted">Period input, live pace preview, and scenario notes in one clean workspace.</p>
      </article>
      <article class="card feature-card">
        <h3>History + Goals</h3>
        <p class="muted">Track streaks, drift trends, and target progress with consistent spacing.</p>
      </article>
    </section>
  </main>

  {% include "_public_footer.html" %}
{% endblock %}
